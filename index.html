<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAZEN Alokasi Investasi | Profesional Advisory Calculator</title>

    <!-- ====== CSS ====== -->
    <style>
        /* ---------- DESIGN TOKEN ---------- */
        :root{
            --clr-primary:#0033a0;
            --clr-secondary:#00c2ff;
            --clr-accent:#f5c542;
            --clr-success:#16a34a;
            --clr-danger:#dc2626;
            --clr-bg:#f7f9fc;
            --clr-text:#111827;
            --clr-muted:#6b7280;
            --radius:12px;
            --space:clamp(1rem, 2vw, 2rem);
            --max-width:1100px;
            --font-sans:'Inter',-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;
            --font-serif:'Playfair Display',Georgia,serif;
        }
        /* dark mode */
        [data-theme="dark"]{
            --clr-bg:#0b1120;
            --clr-text:#e5e7eb;
            --clr-muted:#9ca3af;
        }

        /* ---------- RESET ---------- */
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
        body{font-family:var(--font-sans);background:var(--clr-bg);color:var(--clr-text);line-height:1.6;-webkit-font-smoothing:antialiased}
        img,picture,svg{display:block;max-width:100%}
        input,button,textarea,select{font:inherit}

        /* ---------- TYPOGRAPHY ---------- */
        h1,h2,h3{font-family:var(--font-serif);font-weight:700;letter-spacing:-.5px}
        h1{font-size:clamp(2rem, 5vw, 3rem)}
        h2{font-size:clamp(1.5rem, 4vw, 2.25rem)}
        h3{font-size:clamp(1.25rem, 3vw, 1.75rem)}

        /* ---------- LAYOUT ---------- */
        .container{width:90%;max-width:var(--max-width);margin-inline:auto;padding:var(--space)}
        .flex{display:flex;gap:var(--space)}
        .grid{ display:grid;gap:var(--space) }
        .section{margin-block:var(--space)}

        /* ---------- HEADER ---------- */
        .topbar{background:var(--clr-primary);color:#fff;padding:.75rem 0}
        .topbar .flex{justify-content:space-between;align-items:center;flex-wrap:wrap}
        .logo{font-family:var(--font-serif);font-size:1.5rem;font-weight:800}
        .theme-toggle{background:none;border:2px solid #fff;color:#fff;padding:.25rem .6rem;border-radius:var(--radius);cursor:pointer}
        .hero{background:linear-gradient(135deg,var(--clr-primary) 0%,var(--clr-secondary) 100%);color:#fff;text-align:center;padding:clamp(3rem, 10vw, 6rem) 0}
        .hero p{margin-top:1rem;font-size:1.125rem;opacity:.9}

        /* ---------- FORM ---------- */
        .card{background:#fff;border-radius:var(--radius);box-shadow:0 5px 20px rgba(0,0,0,.05);padding:var(--space)}
        [data-theme="dark"] .card{background:#141b2d}
        .form-group{margin-bottom:1.25rem}
        label{display:block;font-weight:600;margin-bottom:.5rem}
        input,select{width:100%;padding:.75rem 1rem;border:2px solid #d1d5db;border-radius:var(--radius);transition:border-color .3s}
        input:focus,select:focus{outline:none;border-color:var(--clr-secondary)}
        .option-card{display:flex;align-items:center;padding:1rem;border:2px solid #e5e7eb;border-radius:var(--radius);cursor:pointer;transition:all .3s}
        .option-card:hover{border-color:var(--clr-secondary);background:#f0faff}
        input[type=radio]{width:auto;margin-right:.75rem}
        .btn{display:inline-flex;align-items:center;justify-content:center;background:var(--clr-primary);color:#fff;font-weight:600;padding:.9rem 1.8rem;border:none;border-radius:var(--radius);cursor:pointer;transition:background .3s}
        .btn:hover{background:#00277d}
        .btn--ghost{background:transparent;border:2px solid var(--clr-primary);color:var(--clr-primary)}
        .btn--ghost:hover{background:var(--clr-primary);color:#fff}

        /* ---------- RESULT ---------- */
        #result{display:none}
        .badge{display:inline-block;padding:.5rem 1.25rem;border-radius:999px;font-weight:700;font-size:1rem;margin-bottom:1rem}
        .badge--conservative{background:var(--clr-success);color:#fff}
        .badge--moderate{background:var(--clr-accent);color:#111}
        .badge--aggressive{background:var(--clr-danger);color:#fff}
        .allocation-grid{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
        .asset-box{text-align:center;padding:1.25rem;border-radius:var(--radius);background:#fff;box-shadow:0 3px 12px rgba(0,0,0,.06)}
        [data-theme="dark"] .asset-box{background:#1f2937}
        .asset-box .icon{font-size:2.25rem;margin-bottom:.5rem}
        .asset-box .pct{font-size:1.75rem;font-weight:700}
        .bar{height:8px;background:#e5e7eb;border-radius:4px;margin:.75rem 0;overflow:hidden}
        .bar__fill{height:100%;background:linear-gradient(90deg,var(--clr-primary),var(--clr-secondary))}

        /* ---------- TABLE ---------- */
        table{width:100%;border-collapse:collapse;margin-top:1rem}
        th,td{padding:.75rem 1rem;text-align:left}
        th{background:#eef2ff;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px}
        tr:nth-of-type(even){background:#f9fafb}
        [data-theme="dark"] tr:nth-of-type(even){background:#1f2937}

        /* ---------- FOOTER ---------- */
        footer{background:#0b1120;color:#cbd5e1;font-size:.875rem;padding:3rem 0 2rem}
        footer h4{color:#fff;margin-bottom:1rem;font-family:var(--font-serif)}
        footer a{color:#94a3b8;text-decoration:none}
        footer a:hover{color:var(--clr-secondary)}
        .footer__grid{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));margin-bottom:2rem}
        .socials{display:flex;gap:.75rem;margin-top:1rem}
        .socials a{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;background:rgba(255,255,255,.1);border-radius:50%}
        .footer__bottom{text-align:center;padding-top:2rem;border-top:1px solid #1f2937;font-size:.75rem;color:#64748b}

        /* ---------- PRINT ---------- */
        @media print{
            .topbar,.hero,button,.theme-toggle{display:none}
            body{background:#fff;color:#000}
            .card{box-shadow:none;border:1px solid #ddd}
        }

        /* ---------- RESPONSIVE ---------- */
        @media(max-width:768px){
            .flex{flex-direction:column}
            .allocation-grid{grid-template-columns:1fr}
        }
    </style>
</head>
<body>
    <!-- ====== TOGGLE THEME ====== -->
    <script>
        const html=document.documentElement;
        const toggle=()=>{
            const cur=html.getAttribute('data-theme');
            html.setAttribute('data-theme',cur==='dark'?'light':'dark');
            localStorage.setItem('theme',html.getAttribute('data-theme'));
        };
        (()=>{if(localStorage.getItem('theme')==='dark')html.setAttribute('data-theme','dark')})();
    </script>

    <!-- ====== TOPBAR ====== -->
    <div class="topbar">
        <div class="container flex">
            <div class="logo">SAZEN</div>
            <button class="theme-toggle" onclick="toggle()" aria-label="Gelap/Terang">🌗</button>
        </div>
    </div>

    <!-- ====== HERO ====== -->
    <header class="hero">
        <div class="container">
            <h1>Kalkulator Alokasi Investasi</h1>
            <p>Dapatkan strategi investasi yang dipersonalisasi sesuai profil risiko & tujuan keuangan Anda – oleh SAZEN Corp.</p>
        </div>
    </header>

    <main class="container grid">
        <!-- ---------- BASIC INFO ---------- -->
        <section class="section">
            <div class="card">
                <h2>Informasi Dasar</h2>
                <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(250px,1fr))">
                    <div class="form-group">
                        <label for="fullName">Nama Lengkap</label>
                        <input id="fullName" placeholder="e.g. Andi Wijaya">
                    </div>
                    <div class="form-group">
                        <label for="investmentAmount">Jumlah Investasi (Rp)</label>
                        <input id="investmentAmount" placeholder="e.g. 50.000.000">
                    </div>
                    <div class="form-group">
                        <label for="monthlyExpense">Pengeluaran Bulanan (Rp)</label>
                        <input id="monthlyExpense" placeholder="Digunakan untuk hitung dana darurat">
                    </div>
                    <div class="form-group">
                        <label for="investmentPeriod">Jangka Waktu</label>
                        <select id="investmentPeriod">
                            <option value="">Pilih</option>
                            <option value="1">&lt; 1 tahun</option>
                            <option value="2">1-3 tahun</option>
                            <option value="3">3-5 tahun</option>
                            <option value="4">5-10 tahun</option>
                            <option value="5">&gt; 10 tahun</option>
                        </select>
                    </div>
                </div>
            </div>
        </section>

        <!-- ---------- RISK PROFILE ---------- -->
        <section class="section">
            <div class="card">
                <h2>Profil Risiko</h2>
                <!-- Q1 -->
                <div class="form-group">
                    <h3>1. Reaksi jika portofolio turun 20% dalam sebulan?</h3>
                    <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(240px,1fr))">
                        <label class="option-card"><input type="radio" name="q1" value="1"> Panik & jual semua</label>
                        <label class="option-card"><input type="radio" name="q1" value="2"> Tunggu beberapa bulan</label>
                        <label class="option-card"><input type="radio" name="q1" value="3"> Beli lagi untuk averaging</label>
                    </div>
                </div>
                <!-- Q2 -->
                <div class="form-group">
                    <h3>2. Kerugian maksimal yang bisa Anda terima?</h3>
                    <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(240px,1fr))">
                        <label class="option-card"><input type="radio" name="q2" value="1"> &lt; 5%</label>
                        <label class="option-card"><input type="radio" name="q2" value="2"> 10-15%</label>
                        <label class="option-card"><input type="radio" name="q2" value="3"> 20%+</label>
                    </div>
                </div>
                <!-- Q3 -->
                <div class="form-group">
                    <h3>3. Pengalaman investasi?</h3>
                    <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(240px,1fr))">
                        <label class="option-card"><input type="radio" name="q3" value="1"> Pemula</label>
                        <label class="option-card"><input type="radio" name="q3" value="2"> Menengah (2-5 th)</label>
                        <label class="option-card"><input type="radio" name="q3" value="3"> Expert (&gt;5 th)</label>
                    </div>
                </div>
                <!-- Q4 -->
                <div class="form-group">
                    <h3>4. Tujuan investasi utama?</h3>
                    <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(240px,1fr))">
                        <label class="option-card"><input type="radio" name="q4" value="1"> Lindungi dari inflasi</label>
                        <label class="option-card"><input type="radio" name="q4" value="2"> Pertumbuhan moderat</label>
                        <label class="option-card"><input type="radio" name="q4" value="3"> Maksimalkan keuntungan</label>
                    </div>
                </div>

                <button class="btn" onclick="calculateAllocation()">Analisis & Buat Alokasi</button>
            </div>
        </section>

        <!-- ---------- RESULT ---------- -->
        <section id="result" class="section"></section>

        <!-- ---------- DETAIL INFO ---------- -->
        <section id="detailInfo" class="section" style="display:none">
            <div class="card">
                <h2>Proyeksi & Informasi Detail</h2>
                <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(300px,1fr))">
                    <div>
                        <h3>Estimasi Nilai Akhir (10 th)</h3>
                        <p id="estFinal" style="font-size:1.5rem;font-weight:700;color:var(--clr-primary)"></p>
                        <small>Asumsi return rata-rata profil & inflasi 4%</small>
                    </div>
                    <div>
                        <h3>Biaya & Pajak (est.)</h3>
                        <ul>
                            <li>Beli/redeem reksa-dana: <strong>0-1%</strong></li>
                            <li>Fee pialang saham: <strong>0.15-0.25%</strong></li>
                            <li>Pajak dividen: <strong>10%</strong></li>
                        </ul>
                    </div>
                    <div>
                        <h3>Reksa-Dana Rekomendasi</h3>
                        <ul id="recFunds"></ul>
                    </div>
                </div>

                <h3 style="margin-top:1.5rem">Perbandingan Historis (10 th)</h3>
                <div style="overflow-x:auto">
                    <table>
                        <thead>
                            <tr>
                                <th>Portofolio</th>
                                <th>Return rata-rata</th>
                                <th>Volatilitas</th>
                                <th>Max drawdown</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Konservatif</td>
                                <td>6.8%</td>
                                <td>4.1%</td>
                                <td>-5.4%</td>
                            </tr>
                            <tr>
                                <td>Moderat</td>
                                <td>10.2%</td>
                                <td>9.5%</td>
                                <td>-18.7%</td>
                            </tr>
                            <tr>
                                <td>Agresif</td>
                                <td>14.5%</td>
                                <td>16.3%</td>
                                <td>-35.2%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <!-- ====== FOOTER ====== -->
    <footer>
        <div class="container grid footer__grid">
            <div>
                <h4>SAZEN Corp</h4>
                <p>Wealth-Tech Advisory berizin OJK untuk membantu Anda berinvestasi lebih cerdas.</p>
                <div class="socials">
                    <a href="#" aria-label="LinkedIn">in</a>
                    <a href="#" aria-label="Twitter">X</a>
                    <a href="#" aria-label="Instagram">ig</a>
                </div>
            </div>
            <div>
                <h4>Produk</h4>
                <ul style="list-style:none;padding:0">
                    <li><a href="#">Robo-Advisor</a></li>
                    <li><a href="#">Reksa-Dana</a></li>
                    <li><a href="#">SAZEN Pro</a></li>
                    <li><a href="#">SAZEN Pensiun</a></li>
                </ul>
            </div>
            <div>
                <h4>Bantuan</h4>
                <ul style="list-style:none;padding:0">
                    <li><a href="#">Pusat Edukasi</a></li>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Kebijakan Privasi</a></li>
                    <li><a href="#">S&K</a></li>
                </ul>
            </div>
            <div>
                <h4>Hubungi Kami</h4>
                <p>GX Tower Lt. 32<br>Jl. DR. Ide Anak Agung Gde Agung, Kuningan<br>Jakarta 12950</p>
                <p>Email: halo@sazen.co.id<br>WhatsApp: +62 811-2222-5555</p>
            </div>
        </div>
        <div class="footer__bottom">
            © 2025 SAZEN Corp. All rights reserved. | OJK Reg. No. S-99/MS.72/2020
        </div>
    </footer>

    <!-- ====== JS LIBS ====== -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
        /* ---------- CONFIG ---------- */
        const profiles={
            conservative:{
                name:"Konservatif",badge:"badge--conservative",icon:"🛡️",desc:"Mengutamakan keamanan modal",
                allocation:{
                    cash:{name:"Uang Tunai",pct:10,icon:"💵"},
                    emergency:{name:"Dana Darurat",pct:15,icon:"🚑"},
                    bonds:{name:"Obligasi Negara",pct:45,icon:"🏛️"},
                    deposits:{name:"Deposito",pct:20,icon:"🏦"},
                    gold:{name:"Emas",pct:10,icon:"🥇"}
                },
                return:7,inflasi:4,recFunds:["Simas Syariah Pendapatan Tetap","BNI-AM Obligasi Negara"]
            },
            moderate:{
                name:"Moderat",badge:"badge--moderate",icon:"⚖️",desc:"Keseimbangan keamanan & pertumbuhan",
                allocation:{
                    cash:{name:"Uang Tunai",pct:5,icon:"💵"},
                    emergency:{name:"Dana Darurat",pct:10,icon:"🚑"},
                    stocks:{name:"Saham",pct:40,icon:"📈"},
                    bonds:{name:"Obligasi",pct:25,icon:"🏛️"},
                    gold:{name:"Emas",pct:10,icon:"🥇"},
                    mixFund:{name:"Reksa-Dana Campuran",pct:10,icon:"📊"}
                },
                return:10,inflasi:4,recFunds:["Schroder 90 Plus","Manulife Dana Campuran"]
            },
            aggressive:{
                name:"Agresif",badge:"badge--aggressive",icon:"🚀",desc:"Fokus pertumbuhan jangka panjang",
                allocation:{
                    cash:{name:"Uang Tunai",pct:3,icon:"💵"},
                    emergency:{name:"Dana Darurat",pct:7,icon:"🚑"},
                    stocks:{name:"Saham Growth",pct:55,icon:"🚀"},
                    mixFund:{name:"Reksa-Dana Saham",pct:20,icon:"📊"},
                    crypto:{name:"Crypto",pct:10,icon:"₿"},
                    bonds:{name:"Obligasi",pct:5,icon:"🏛️"}
                },
                return:15,inflasi:4,recFunds:["TRIM Syariah Saham","Mandiri Investa Atraktif"]
            }
        };

        /* ---------- HELPERS ---------- */
        const idr=n=>new Intl.NumberFormat('id-ID',{style:'currency',currency:'IDR',minimumFractionDigits:0}).format(n);
        const parse=s=>Number(s.replace(/\D/g,''));
        const fmt=n=>n.toLocaleString('id-ID');

        /* ---------- CALC ---------- */
        function calculateAllocation(){
            const name=document.getElementById('fullName').value.trim();
            const amtEl=document.getElementById('investmentAmount');
            const expEl=document.getElementById('monthlyExpense');
            const per=document.getElementById('investmentPeriod').value;
            if(!name||!amtEl.value||!expEl.value||!per){alert('Lengkapi semua data');return;}
            const amount=parse(amtEl.value),expense=parse(expEl.value);
            if(amount<1e6){alert('Minimal Rp 1 juta');return;}
            let score=0;
            for(let i=1;i<=4;i++){
                const a=document.querySelector(`input[name="q${i}"]:checked`);
                if(!a){alert(`Jawab pertanyaan ${i}`);return;}
                score+=Number(a.value);
            }
            score+=Number(per)*.5;
            let prof;
            if(score<=6)prof=profiles.conservative;
            else if(score<=10)prof=profiles.moderate;
            else prof=profiles.aggressive;
            showResult(prof,amount,expense,name);
        }
        function showResult(p,amt,exp,name){
            const needEmerg=exp*3;
            let html=`
                <div class="card">
                    <div class="risk-profile">
                        <h2>Halo, ${name}!</h2>
                        <span class="badge ${p.badge}">${p.icon} Profil ${p.name}</span>
                        <p>${p.desc}</p>
                        <p><strong>Expected return:</strong> ${p.return}% /th <span style="color:var(--clr-muted)">(inflasi ${p.inflasi}%)</span></p>
                    </div>
                    <h3>Alokasi Aset</h3>
                    <div class="grid allocation-grid">`;
            for(const[k,a]of Object.entries(p.allocation)){
                const alloc=amt*a.pct/100;
                html+=`
                    <div class="asset-box">
                        <div class="icon">${a.icon}</div>
                        <div class="pct">${a.pct}%</div>
                        <div>${a.name}</div>
                        <div class="bar"><div class="bar__fill" style="width:${a.pct}%"></div></div>
                        <div style="font-weight:700">${idr(alloc)}</div>
                    </div>`;
            }
            html+=`</div>`;
            /* cek dana darurat cukup? */
            const emergReal=amt*p.allocation.emergency.pct/100;
            if(emergReal<needEmerg)html+=`<p style="color:var(--clr-danger)"><br>⚠️ Dana darurat Anda (${idr(emergReal)}) kurang dari ×3 pengeluaran (${idr(needEmerg)}).<br>Pertimbangkan tambah alokasi atau kurangi expense.</p>`;
            html+=`
                <h3>Rekomendasi Produk</h3>
                <ul>${p.recFunds.map(f=>`<li>${f}</li>`).join('')}</ul>
                <button class="btn" onclick="downloadPDF()">📥 Unduh PDF</button>
                </div>`;
            document.getElementById('result').innerHTML=html;
            document.getElementById('result').style.display='block';
            /* detail info */
            const final10=Math.round(amt*Math.pow(1+(p.return-p.inflasi)/100,10));
            document.getElementById('estFinal').textContent=idr(final10);
            document.getElementById('recFunds').innerHTML=p.recFunds.map(f=>`<li>${f}</li>`).join('');
            document.getElementById('detailInfo').style.display='block';
            document.getElementById('detailInfo').scrollIntoView({behavior:'smooth'});
        }

        /* ---------- PDF ---------- */
        async function downloadPDF(){
            const {jsPDF}=window.jspdf;
            const pdf=new jsPDF('p','mm','a4');
            const res=document.getElementById('result');
            const canvas=await html2canvas(res,{scale:2,useCORS:true});
            const imgData=canvas.toDataURL('image/png');
            const imgWidth=190;
            const pageHeight=295;
            const imgHeight=canvas.height*imgWidth/canvas.width;
            let heightLeft=imgHeight;
            let position=10;
            pdf.addImage(imgData,'PNG',10,position,imgWidth,imgHeight);
            heightLeft-=pageHeight;
            while(heightLeft>=0){
                position=heightLeft-imgHeight+10;
                pdf.addPage();
                pdf.addImage(imgData,'PNG',10,position,imgWidth,imgHeight);
                heightLeft-=pageHeight;
            }
            const name=document.getElementById('fullName').value.trim()||'Investor';
            pdf.save(`Alokasi-Investasi-${name}.pdf`);
        }

        /* ---------- FORM INTERACTION ---------- */
        document.addEventListener('DOMContentLoaded',()=>{
            /* numeric formatting */
            ['investmentAmount','monthlyExpense'].forEach(id=>{
                const el=document.getElementById(id);
                el.addEventListener('input',e=>{
                    let v=e.target.value.replace(/\D/g,'');
                    if(v)e.target.value=fmt(v);
                });
            });
            /* option card */
            document.querySelectorAll('.option-card').forEach(card=>{
                card.addEventListener('click',function(){
                    this.querySelector('input[type=radio]').checked=true;
                    document.querySelectorAll(`input[name="${this.querySelector('input').name}"]`).forEach(inp=>{
                        inp.closest('.option-card').style.borderColor='#e5e7eb';
                        inp.closest('.option-card').style.background='#fff';
                    });
                    this.style.borderColor='var(--clr-secondary)';
                    this.style.background='#f0faff';
                });
            });
        });
    </script>
</body>
</html>
